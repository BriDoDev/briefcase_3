---
const { link, text, variant = "primary" } = Astro.props;

const baseClasses =
  "inline-flex items-center justify-center relative rounded-full min-h-[40px] px-6 text-sm font-medium transition-all duration-300 ease-out focus:outline-none focus:outline-offset-2 w-full sm:w-auto overflow-hidden z-0";

const variantClasses = {
  primary:
    "bg-gradient-to-r from-fuchsia-600 via-indigo-600 to-purple-600 bg-[length:300%_300%] animate-gradient text-white shadow-lg hover:brightness-110 focus:outline-fuchsia-600",

  secondary: `
    bg-transparent border border-transparent 
    before:absolute before:inset-0 before:rounded-full 
    before:bg-gradient-to-r before:from-fuchsia-600 before:via-indigo-600 before:to-purple-600 
    before:bg-[length:300%_300%] before:animate-gradient 
    before:content-[''] before:p-[2px] before:z-[-1] 
    after:absolute after:inset-[2px] after:rounded-full 
    after:bg-white dark:after:bg-black after:content-[''] after:z-[-1]
    focus:outline-fuchsia-600
  `,
};

const finalClass = `${baseClasses} ${variantClasses[variant]}`;
---

<a href={link} class={finalClass}>
  <span
    class={variant === "secondary"
      ? "bg-gradient-to-r from-fuchsia-600 via-indigo-600 to-purple-600 bg-[length:300%_300%] animate-gradient bg-clip-text text-transparent z-10 relative"
      : "z-10 relative"}
  >
    {text}
  </span>
</a>
